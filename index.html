<!DOCTYPE html>
<html class="h-100" lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NieR: Automata Checklist ver0.2a</title>
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body class="h-100 overflow-hidden">
    <div class="h-100 d-flex flex-column">
      <nav class="navbar border-bottom border-tertiary border-decoration-bottom pt-4 pb-3">
        <div class="container-fluid px-4 px-md-5">
          <div class="border-decoration-start d-flex flex-row w-100">
            <button type="button" id="nav-scroll-left" class="btn btn-scroll d-xl-none me-2 me-xxl-4"><i class="button-scroll-icon"></i></button>
            <div class="overflow-x-auto overflow-y-hidden" id="main-nav">
              <ul class="navbar-nav flex-row">
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link active" href="index.html"><span>Home</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="quests.html"><span>Quests</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="items.html"><span>Items</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="weapons.html"><span>Weapons</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="skills.html"><span>Skills</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="intel.html"><span>Intel</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="endings.html"><span>Endings</span></a>
                </li>
                <li class="nav-item pe-2 pe-xxl-4">
                  <a class="nav-link" href="achievements.html"><span>Achievements</span></a>
                </li>
                <li class="nav-item d-none pe-2 pe-xxl-4">
                  <a class="nav-link" href="settings.html"><span>Settings</span></a>
                </li>
              </ul>
            </div>
            <button type="button" id="nav-scroll-right" class="btn btn-scroll d-xl-none me-2 me-xxl-4"><i class="button-scroll-icon rotated"></i></button>
          </div>
        </div>
      </nav>
      <div class="container-fluid d-flex flex-column flex-grow-1 px-4 px-md-5 py-5 pt-4 pb-0">
        <h1 class="fw-light pb-4 text-shadow">NieR: Automata Checklist ver0.2a</h1>
        <div class="container-fluid flex-grow-1 p-0">
          <div class="row gx-5 gy-4 h-100 position-relative">
            <div class="col-12 col-lg-6 col-xxl-4">
              <div class="border-decoration-start h-100">
                <div class="card box-highlight h-100">
                  <div class="card-body ps-0">
                    <i class="card-decoration-top"></i>
                    <div class="card-text h-100 position-relative" data-overlayscrollbars-initialize>
                      <div class="pe-3 position-absolute w-100" id="list-group-1">
                        <ul class="list-group list-group-flush"></ul>
                        <div class="accordion accordion-flush" id="list"></div>
                      </div>
                    </div>
                    <i class="card-decoration-bottom"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-lg-6 col-xxl-4" id="list-info"></div>
          </div>
        </div>
      </div>
      <div class="container-fluid border-bottom border-tertiary border-decoration-bottom mb-5 p-0 pb-3">
        <div class="row g-0 px-4 px-md-5">
          <div class="col-12">
            <div class="card box-highlight m-0" id="footer">
              <div class="card-body">
                <p class="card-text">NieR is a registered trademark of SQUARE ENIX CO., LTD. This website was designed by <a href="https://github.com/H3K83" target="_blank" title="Hekate">Hekate</a> and is licensed under a Creative Commons <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-No Derivatives 4.0 International">BY-NC-ND 4.0 International License</a>.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/overlayscrollbars.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script>
      //Dynamically Load Content
      const itemList = document.querySelector("#list-group-1 > .list-group");
      ((data) => {
        const chunk = data.map((item) => `<li class="list-group-item list-group-item-decoration position-relative ${item.collapsed}" data-bs-toggle="collapse" data-bs-target="#list-item-${item.number}" aria-expanded="${item.expanded}" aria-controls="list-item-${item.number}"><span class="text-truncate">${item.name}</span></li>`).join("");
        const range = document.createRange();
        range.selectNode(itemList);
        const fragment = range.createContextualFragment(chunk);
        itemList.appendChild(fragment);
      })([
        {
          number: "news-1",
          name: "Welcome",
          collapsed: "",
          expanded: "true",
        },
      ]);

      const list = document.querySelector("#list");
      ((data) => {
        const chunk = data
          .map(
            (item) =>
              `<div class="accordion-item">
                            <h2 class="accordion-header" id="list-title-${item.number}">
                              <button class="accordion-button ${item.btncollapse}" type="button" data-bs-toggle="collapse" data-bs-target="#list-group-${item.number}" aria-expanded=" ${item.expanded}" aria-controls="list-group-${item.number}"><span class="text-truncate">${item.name}</span></button>
                            </h2>
                            <div id="list-group-${item.number}" class="accordion-collapse collapse ${item.collapse}" aria-labelledby="list-title-${item.number}" data-bs-parent="#list">
                              <ul class="list-group list-group-flush"></ul>
                            </div>
                          </div>`
          )
          .join("");
        const range = document.createRange();
        range.selectNode(list);
        const fragment = range.createContextualFragment(chunk);
        list.appendChild(fragment);
      })([{ number: "2", name: "Updates", btncollapse: "", collapse: "show", expanded: "true" }]);

      const itemList2 = document.querySelector("#list-group-2 > .list-group");
      ((data) => {
        const chunk = data.map((item) => `<li class="list-group-item list-group-item-decoration ${item.collapsed}" data-bs-toggle="collapse" data-bs-target="#list-item-${item.number}" aria-expanded="${item.expanded}" aria-controls="list-item-${item.number}"><span class="text-truncate">${item.name}</span></li>`).join("");
        const range = document.createRange();
        range.selectNode(itemList2);
        const fragment = range.createContextualFragment(chunk);
        itemList2.appendChild(fragment);
      })([
        {
          number: "news-2",
          name: "Version 0.2-alpha is out!",
          collapsed: "collapsed",
          expanded: "false",
        },
      ]);

      const infoList = document.querySelector("#list-info");
      ((data) => {
        const chunk = data
          .map(
            (item) =>
              `<div class="card collapse ${item.collapse} h-100" id="list-item-${item.number}" data-bs-parent="#list-info">
                <div class="card-header"><span class="text-truncate">${item.name}</span><button type="button" class="btn-close d-lg-none ms-auto" data-bs-target="#list-item-${item.number}" data-bs-toggle="collapse" aria-label="Close"></button></div>
                <div class="card-body">
                  <i class="card-decoration-top"></i>
                  <div class="card-text h-100 position-relative" data-overlayscrollbars-initialize>
                    <div class="pe-3 position-absolute w-100">
                      <p data-note="${item.note}">${item.info}</p>
                    </div>
                  </div>
                  <i class="card-decoration-bottom"></i>
                </div>
              </div>`
          )
          .join("");
        const range = document.createRange();
        range.selectNode(infoList);
        const fragment = range.createContextualFragment(chunk);
        infoList.appendChild(fragment);
      })([
        {
          number: "news-1",
          name: "Welcome",
          note: "",
          info: "Welcome to the new NieR: Automata Checklist ver... whatever it is currently!<br><br>It's exciting to see it finally come to fruition having spent days toiling over it to get both the function and the look of it just right to offer you all an immersive but highly beneficial experience. That said, please feel free to take a look around and to tell me what you think of it, and if you find any bugs since the truth is that I'm only one girl... and I mess up sometimes. Now, if you're seeing this and aren't planning on using it right away, be sure to keep on checking back from time to time because I have big plans for it in the future that I know you will all enjoy. Consider supporting me on <a href=\"https://ko-fi.com/h3k8e\" title\"Ko-Fi\" target=\"_blank\">Ko-Fi</a> too if you're able, since that'll help me continue to do projects like these and every little bit helps even though it isn't required and this resource will always remain free. Beyond that though, my one ask is that you enjoy yourselves using this and have a wonderful journey in one of my favorite games, because that was what this was intended for!<br><br>Anyhow, thanks for coming everyone!<br><br>-Hekate (h3k8e)<br><br>P.S.: If you use this checklist to track your progress, please understand that it is in early alpha still and you may lose your data. Be sure to keep a hard copy backup for anything you enter in here for that reason or wait until version 1.0 launches. Any loss of input data is not on me. You have been warned!",
          collapse: "show",
        },
        {
          number: "news-2",
          name: "Version 0.2-alpha is out!",
          note: "",
          info: "If you have stuck around and followed this project from the beginning it's easy to see there have been a metric ton of changes. So, I'll go over the biggest ones thus far:<br><br>-The checklist has been completely redesigned from the ground up to look more like NieR: Automata's interface and to include a custom mobile layout.<br>-Content is now loaded via JSON array dynamically to cut down on file bloat.<br>-The groundwork for a light and dark mode has been added to be released in another patch.<br>-The information on the checklist has been better organized into sections.<br>-Each checklist item now includes or will eventually include a description of how to obtain it.<br>-The checklist has been separated into multiple pages to cut down on file bloat, load times and to help to better navigate it to ensure that users can find what they're looking for easily.<br>-The version number has changed from 0.1-alpha to 0.2-alpha to reflect the above changes.<br><br>And there is likely much, much more I'm forgetting to add, but you all get the gist. It looks better, works better and is one step closer to being fully functional.<br><br>See y'all soon for more updates in the near future!",
          collapse: "",
        },
      ]);

      //Initialize OverlayScrollbars
      var OverlayScrollbars = OverlayScrollbarsGlobal.OverlayScrollbars;
      document.querySelectorAll("[data-overlayscrollbars-initialize]").forEach((elm) => {
        OverlayScrollbars(elm, {
          overflow: {
            x: "hidden",
            y: "scroll",
          },
          scrollbars: {
            theme: "os-theme-automata",
            visibility: "visible",
            autoHide: "never",
            dragScroll: true,
            clickScroll: true,
          },
        });
      });

      //Navigation Horizontal Scroller
      const navScrollRight = document.getElementById("nav-scroll-right");
      const navScrollLeft = document.getElementById("nav-scroll-left");
      var mainNav = document.getElementById("main-nav");

      navScrollRight.onmousedown = function () {
        mainNav.scrollLeft += 50;
      };

      navScrollLeft.onmousedown = function () {
        mainNav.scrollLeft -= 50;
      };

      //Save and Load Checkboxes
      var checkboxValues = JSON.parse(localStorage.getItem("checkboxValues")) || {},
        $checkboxes = $(".form-check-input");

      $checkboxes.on("change", function () {
        $checkboxes.each(function () {
          checkboxValues[this.id] = this.checked;
        });

        localStorage.setItem("checkboxValues", JSON.stringify(checkboxValues));
      });

      $.each(checkboxValues, function (key, value) {
        $("#" + key).prop("checked", value);
      });

      //Save and Load Text Input
      const editables = document.querySelectorAll("[contenteditable]");

      editables.forEach((el) => {
        el.addEventListener("blur", () => {
          localStorage.setItem("dataStorage-" + el.id, el.innerHTML);
        });
      });

      for (var key in localStorage) {
        if (key.includes("dataStorage-")) {
          const id = key.replace("dataStorage-", "");
          document.querySelector("#" + id).innerHTML = localStorage.getItem(key);
        }
      }
    </script>
  </body>
</html>